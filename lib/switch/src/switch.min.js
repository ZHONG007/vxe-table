"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _vue=require("vue"),_xeUtils=_interopRequireDefault(require("xe-utils")),_conf=_interopRequireDefault(require("../../v-x-e-table/src/conf")),_size=require("../../hooks/size"),_utils=require("../../tools/utils");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _default2=(0,_vue.defineComponent)({name:"VxeSwitch",props:{modelValue:[String,Number,Boolean],disabled:Boolean,size:{type:String,default:function(){return _conf.default.switch.size||_conf.default.size}},openLabel:String,closeLabel:String,openValue:{type:[String,Number,Boolean],default:!0},closeValue:{type:[String,Number,Boolean],default:!1},openIcon:String,closeIcon:String},emits:["update:modelValue","change","focus","blur"],setup:function(s,e){var n,i=e.emit,t=_xeUtils.default.uniqueId(),c=(0,_size.useSize)(s),r=(0,_vue.reactive)({isActivated:!1,hasAnimat:!1,offsetLeft:0}),a={xID:t,props:s,context:e,reactData:r},v=(0,_vue.ref)(),l={},d=(0,_vue.computed)(function(){return(0,_utils.getFuncText)(s.openLabel)}),f=(0,_vue.computed)(function(){return(0,_utils.getFuncText)(s.closeLabel)}),_=(0,_vue.computed)(function(){return s.modelValue===s.openValue}),p=function(e){if(!s.disabled){var t=_.value;clearTimeout(n);var u=t?s.closeValue:s.openValue;r.hasAnimat=!0,i("update:modelValue",u),l.dispatchEvent("change",{value:u},e),n=setTimeout(function(){r.hasAnimat=!1},400)}},h=function(e){r.isActivated=!0,l.dispatchEvent("focus",{value:s.modelValue},e)},b=function(e){r.isActivated=!1,l.dispatchEvent("blur",{value:s.modelValue},e)};l={dispatchEvent:function(e,t,u){i(e,Object.assign({$switch:a,$event:u},t))},focus:function(){var e=v.value;return r.isActivated=!0,e.focus(),(0,_vue.nextTick)()},blur:function(){return v.value.blur(),r.isActivated=!1,(0,_vue.nextTick)()}},Object.assign(a,l);return a.renderVN=function(){var e,t=s.disabled,u=s.openIcon,n=s.closeIcon,i=_.value,a=c.value,l=d.value,o=f.value;return(0,_vue.h)("div",{class:["vxe-switch",i?"is--on":"is--off",(e={},e["size--"+a]=a,e["is--disabled"]=t,e["is--animat"]=r.hasAnimat,e)]},[(0,_vue.h)("button",{ref:v,class:"vxe-switch--button",type:"button",disabled:t,onClick:p,onFocus:h,onBlur:b},[(0,_vue.h)("span",{class:"vxe-switch--label vxe-switch--label-on"},[u?(0,_vue.h)("i",{class:["vxe-switch--label-icon",u]}):(0,_vue.createCommentVNode)(),l]),(0,_vue.h)("span",{class:"vxe-switch--label vxe-switch--label-off"},[n?(0,_vue.h)("i",{class:["vxe-switch--label-icon",n]}):(0,_vue.createCommentVNode)(),o]),(0,_vue.h)("span",{class:"vxe-switch--icon"})])])},a},render:function(){return this.renderVN()}});exports.default=_default2;